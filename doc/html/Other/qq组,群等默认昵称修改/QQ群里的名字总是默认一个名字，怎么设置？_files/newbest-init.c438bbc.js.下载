define("question-new:widget/newbest/newbest-init",function(t,e,o){var i=t("common:widget/lib/jquery/jquery"),s=t("common:widget/js/util/log/log"),n=t("question-new:widget/js/share/share"),a=i(window),r=i("#qb-content"),d=i(".wgt-best .best-text"),w=d.find(".wgt-best-mask"),h=i(".wgt-best .wgt-best-operator");o.exports={init:function(){this.bindEvents(),n.init({target:i(".wgt-best .share-area"),pageUrl:"http://zhidao.baidu.com/question/"+F.context("page").qid,title:document.title,logOpt:{module:"question",page:"qb",project:"new-qb-share",postion:"new-share"}})},bindEvents:function(){i(".wgt-best").on("click",".wgt-best-showbtn",function(){s.send({area:"show-hide-answer-best",action:"click"}),d.data("showstatus","show"),d.data("preScrollPos",i(window).scrollTop()),d.height(d.data("oriheight")),w.hide(),h.find(".wgt-best-hidebtn").show()}).on("click",".wgt-best-hidebtn",function(){d.data("showstatus","hide"),d.height(790),w.show(),i(this).hide(),h.removeClass("fixed"),a.off("resize.operatorFixed"),h.css("width","auto"),i(window).scrollTop()>d.data("preScrollPos")&&(F.context("answerFoldingFlag",!0),i(window).scrollTop(d.data("preScrollPos")),setTimeout(function(){F.context("answerFoldingFlag",!1)},500))}),i(window).scroll(this.debounce(i.proxy(this.operatorFixed,this),50,55))},operatorFixed:function(){if("show"===d.data("showstatus")){var t=a.height(),e=a.scrollTop(),o=d.offset().top,i=t+e-o;i>750&&i<d.height()?(h.addClass("fixed"),h.width(r.outerWidth()),a.on("resize.operatorFixed",this.debounce(function(){h.width(r.outerWidth())},50,55))):(h.removeClass("fixed"),a.off("resize.operatorFixed"),h.css("width","auto"))}},debounce:function(t,e,o){var i,s=(new Date).getTime();return function(){var n=(new Date).getTime();n-s>=o?(clearTimeout(i),s=n,t()):(clearTimeout(i),i=setTimeout(t,e))}}}});